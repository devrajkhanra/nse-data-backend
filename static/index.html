<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NSE Data Downloader</title>
    <link href="https://cdn.jsdelivr.net/npm/@fluentui/web-components@2.5.16/dist/web-components.min.css" rel="stylesheet">
    <script type="module" src="https://cdn.jsdelivr.net/npm/@fluentui/web-components@2.5.16/dist/web-components.min.js"></script>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="app-container">
        <header class="header">
            <div class="header-content">
                <div class="header-title">
                    <fluent-icon name="database" size="24"></fluent-icon>
                    <h1>NSE Data Downloader</h1>
                </div>
                <div class="status-indicator" id="connectionStatus">
                    <fluent-badge appearance="success" id="statusBadge">Connected</fluent-badge>
                </div>
            </div>
        </header>

        <main class="main-content">
            <div class="grid-container">
                <!-- Download Section -->
                <section class="card download-section">
                    <div class="card-header">
                        <fluent-icon name="download" size="20"></fluent-icon>
                        <h2>Download Data</h2>
                    </div>
                    <div class="card-content">
                        <div class="form-group">
                            <label for="downloadType">Download Type</label>
                            <fluent-radio-group id="downloadType" name="downloadType" value="single">
                                <fluent-radio value="single">Single Date</fluent-radio>
                                <fluent-radio value="range">Date Range</fluent-radio>
                            </fluent-radio-group>
                        </div>

                        <div class="form-group" id="singleDateGroup">
                            <label for="singleDate">Select Date</label>
                            <fluent-text-field id="singleDate" type="date" appearance="outline"></fluent-text-field>
                        </div>

                        <div class="form-group hidden" id="dateRangeGroup">
                            <label for="startDate">Start Date</label>
                            <fluent-text-field id="startDate" type="date" appearance="outline"></fluent-text-field>
                            <label for="endDate">End Date</label>
                            <fluent-text-field id="endDate" type="date" appearance="outline"></fluent-text-field>
                        </div>

                        <div class="quick-actions">
                            <fluent-button id="todayBtn" appearance="neutral">Today</fluent-button>
                            <fluent-button id="yesterdayBtn" appearance="neutral">Yesterday</fluent-button>
                            <fluent-button id="lastWeekBtn" appearance="neutral">Last Week</fluent-button>
                        </div>

                        <fluent-button id="downloadBtn" appearance="accent" class="download-button">
                            <fluent-icon slot="start" name="download"></fluent-icon>
                            Start Download
                        </fluent-button>
                    </div>
                </section>

                <!-- Progress Section -->
                <section class="card progress-section">
                    <div class="card-header">
                        <fluent-icon name="progress-ring" size="20"></fluent-icon>
                        <h2>Download Progress</h2>
                    </div>
                    <div class="card-content">
                        <div class="progress-container">
                            <fluent-progress-ring id="progressRing" class="hidden"></fluent-progress-ring>
                            <fluent-progress id="progressBar" class="hidden"></fluent-progress>
                            <div class="progress-text">
                                <span id="progressStatus">Ready to download</span>
                                <span id="progressPercent"></span>
                            </div>
                        </div>
                        <div class="progress-details" id="progressDetails"></div>
                    </div>
                </section>

                <!-- Stats Section -->
                <section class="card stats-section">
                    <div class="card-header">
                        <fluent-icon name="data-bar-vertical" size="20"></fluent-icon>
                        <h2>Data Statistics</h2>
                    </div>
                    <div class="card-content">
                        <div class="stats-grid">
                            <div class="stat-item">
                                <fluent-icon name="chart-line" size="24"></fluent-icon>
                                <div class="stat-content">
                                    <span class="stat-label">Indices</span>
                                    <span class="stat-value" id="indiceCount">-</span>
                                </div>
                            </div>
                            <div class="stat-item">
                                <fluent-icon name="building-bank" size="24"></fluent-icon>
                                <div class="stat-content">
                                    <span class="stat-label">Stocks</span>
                                    <span class="stat-value" id="stockCount">-</span>
                                </div>
                            </div>
                            <div class="stat-item">
                                <fluent-icon name="document-data" size="24"></fluent-icon>
                                <div class="stat-content">
                                    <span class="stat-label">Market Activity</span>
                                    <span class="stat-value" id="maCount">-</span>
                                </div>
                            </div>
                            <div class="stat-item">
                                <fluent-icon name="options" size="24"></fluent-icon>
                                <div class="stat-content">
                                    <span class="stat-label">Options</span>
                                    <span class="stat-value" id="optionCount">-</span>
                                </div>
                            </div>
                            <div class="stat-item">
                                <fluent-icon name="clock" size="24"></fluent-icon>
                                <div class="stat-content">
                                    <span class="stat-label">5min Stocks</span>
                                    <span class="stat-value" id="fiveMinCount">-</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- System Status Section -->
                <section class="card status-section">
                    <div class="card-header">
                        <fluent-icon name="shield-checkmark" size="20"></fluent-icon>
                        <h2>System Status</h2>
                    </div>
                    <div class="card-content">
                        <div class="status-grid">
                            <div class="status-item">
                                <span class="status-label">API Health</span>
                                <fluent-badge id="apiHealth" appearance="success">Healthy</fluent-badge>
                            </div>
                            <div class="status-item">
                                <span class="status-label">Last Download</span>
                                <span id="lastDownload">-</span>
                            </div>
                            <div class="status-item">
                                <span class="status-label">Data Directory</span>
                                <span class="status-value">~/Desktop/nse-data/data/</span>
                            </div>
                        </div>
                        <fluent-button id="refreshBtn" appearance="neutral" class="refresh-button">
                            <fluent-icon slot="start" name="arrow-clockwise"></fluent-icon>
                            Refresh Status
                        </fluent-button>
                    </div>
                </section>
            </div>
        </main>
    </div>

    <script src="app.js"></script>
</body>
</html>